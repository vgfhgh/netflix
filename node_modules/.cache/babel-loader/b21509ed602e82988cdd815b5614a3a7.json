{"ast":null,"code":"import React from 'react';\nimport { useLocation, Link, useNavigate } from 'react-router-dom';\nimport { Movie, Menu, Button } from 'components';\nimport './Recommendation.css';\n\nvar Recommendation = function Recommendation() {\n  var location = useLocation();\n  var movies = location.state.movies;\n  console.log(movies);\n  var navigate = useNavigate();\n  var likes = JSON.parse(sessionStorage.getItem('likes')) || {};\n  console.log(likes);\n\n  var toHomePage = function toHomePage() {\n    navigate('/home');\n  };\n\n  var bestMovies = movies.sort(function (a, b) {\n    return b.rating - a.rating;\n  }).slice(0, 3).map(function (movie) {\n    return /*#__PURE__*/React.createElement(Link, {\n      key: movie.id,\n      to: \"/detail\",\n      state: {\n        movie: movie\n      },\n      style: {\n        textDecoration: 'none',\n        color: 'white'\n      }\n    }, /*#__PURE__*/React.createElement(Movie, {\n      title: movie.title,\n      genres: movie.genres,\n      cover: movie.medium_cover_image,\n      summary: movie.summary,\n      year: movie.year,\n      rating: movie.rating,\n      likes: likes[movie.id]\n    }));\n  }); // likes 객체를 배열 객체로 변환하기\n\n  var likesArray = [];\n\n  for (var like in likes) {\n    likesArray.push({\n      id: like,\n      favorite: likes[like]\n    });\n  } // favorite (좋아요 숫자) 기준으로 정렬하기\n\n\n  var bestMoviesByLikes = likesArray.sort(function (a, b) {\n    return b.favorite - a.favorite;\n  }).slice(0, 3).map(function (likeInfo) {\n    var movieId = parseInt(likeInfo.id);\n    var movie = movies.filter(function (movie) {\n      return movie.id === movieId;\n    })[0];\n    console.log('movie by likes', parseInt(likeInfo.id));\n    console.log('movie: ', movie);\n    return /*#__PURE__*/React.createElement(Link, {\n      key: movie.id,\n      to: \"/detail\",\n      state: {\n        movie: movie\n      },\n      style: {\n        textDecoration: 'none',\n        color: 'white'\n      }\n    }, /*#__PURE__*/React.createElement(Movie, {\n      title: movie.title,\n      genres: movie.genres,\n      cover: movie.medium_cover_image,\n      summary: movie.summary,\n      year: movie.year,\n      rating: movie.rating,\n      likes: likes[movie.id]\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Recommendation-container\"\n  }, /*#__PURE__*/React.createElement(Menu, null, /*#__PURE__*/React.createElement(Button, {\n    handleClick: toHomePage\n  }, \"Home\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Recommendation-text first-text\"\n  }, \"Best Movies by rating\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Recommendation-bestmovies\"\n  }, bestMovies), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Recommendation-text second-text\"\n  }, \"Best Movies by likes\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Recommendation-bestmovies\"\n  }, bestMoviesByLikes));\n};\n\nexport default Recommendation;","map":null,"metadata":{},"sourceType":"module"}